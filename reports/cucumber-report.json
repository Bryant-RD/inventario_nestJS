[
  {
    "description": "  Como usuario del sistema, quiero gestionar productos para mantener el inventario actualizado,\n  respetando las reglas de acceso de mi rol.",
    "elements": [
      {
        "description": "",
        "id": "gestión-de-productos;un-empleado-puede-crear-un-producto-exitosamente",
        "keyword": "Scenario",
        "line": 10,
        "name": "Un empleado puede crear un producto exitosamente",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 1106999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 6,
            "name": "que la aplicación está en funcionamiento",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 2018299
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 7,
            "name": "un usuario \"EMPLOYEE\" con nombre \"cucumber_employee\" y contraseña \"password\" existe",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:10"
            },
            "result": {
              "status": "passed",
              "duration": 134608100
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "un usuario \"CLIENT\" con nombre \"cucumber_client\" y contraseña \"password\" existe",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:10"
            },
            "result": {
              "status": "passed",
              "duration": 19819999
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 11,
            "name": "estoy autenticado como el usuario \"cucumber_employee\" con contraseña \"password\"",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:37"
            },
            "result": {
              "status": "failed",
              "duration": 23662400,
              "error_message": "AssertionError\n    + expected - actual\n\n    -401\n    +201\n\n    at CustomWorld.<anonymous> (C:\\Users\\bryan\\Desktop\\proyectos_universidad\\inventario_nestJS\\features\\steps_definitions\\products.steps.ts:41:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
            }
          },
          {
            "arguments": [
              {
                "content": "{\n  \"nombre\": \"Producto Cucumber\",\n  \"descripcion\": \"Creado desde una prueba de aceptación\",\n  \"categoria\": \"Cucumber\",\n  \"precio\": 150.50,\n  \"cantidad\": 25\n}",
                "line": 13
              }
            ],
            "keyword": "When ",
            "line": 12,
            "name": "envío una petición POST a \"/productos\" con el siguiente cuerpo:",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:46"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 22,
            "name": "la respuesta debe tener el código de estado 201",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 23,
            "name": "el cuerpo de la respuesta debe contener una propiedad \"nombre\" con el valor \"Producto Cucumber\"",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:82"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "gestión-de-productos;un-cliente-no-tiene-permisos-para-crear-un-producto",
        "keyword": "Scenario",
        "line": 25,
        "name": "Un cliente no tiene permisos para crear un producto",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 470800
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 6,
            "name": "que la aplicación está en funcionamiento",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 601700
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 7,
            "name": "un usuario \"EMPLOYEE\" con nombre \"cucumber_employee\" y contraseña \"password\" existe",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:10"
            },
            "result": {
              "status": "passed",
              "duration": 38346199
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "un usuario \"CLIENT\" con nombre \"cucumber_client\" y contraseña \"password\" existe",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:10"
            },
            "result": {
              "status": "passed",
              "duration": 33334699
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 26,
            "name": "estoy autenticado como el usuario \"cucumber_client\" con contraseña \"password\"",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:37"
            },
            "result": {
              "status": "failed",
              "duration": 15803299,
              "error_message": "AssertionError\n    + expected - actual\n\n    -401\n    +201\n\n    at CustomWorld.<anonymous> (C:\\Users\\bryan\\Desktop\\proyectos_universidad\\inventario_nestJS\\features\\steps_definitions\\products.steps.ts:41:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
            }
          },
          {
            "arguments": [
              {
                "content": "{ \"nombre\": \"Producto Ilegal\" }",
                "line": 28
              }
            ],
            "keyword": "When ",
            "line": 27,
            "name": "envío una petición POST a \"/productos\" con el siguiente cuerpo:",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:46"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 31,
            "name": "la respuesta debe tener el código de estado 403",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      },
      {
        "description": "",
        "id": "gestión-de-productos;cualquier-usuario-autenticado-puede-ver-la-lista-de-productos",
        "keyword": "Scenario",
        "line": 33,
        "name": "Cualquier usuario autenticado puede ver la lista de productos",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 569299
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 6,
            "name": "que la aplicación está en funcionamiento",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 243599
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 7,
            "name": "un usuario \"EMPLOYEE\" con nombre \"cucumber_employee\" y contraseña \"password\" existe",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:10"
            },
            "result": {
              "status": "passed",
              "duration": 33220099
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "un usuario \"CLIENT\" con nombre \"cucumber_client\" y contraseña \"password\" existe",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:10"
            },
            "result": {
              "status": "passed",
              "duration": 21737399
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 34,
            "name": "estoy autenticado como el usuario \"cucumber_client\" con contraseña \"password\"",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:37"
            },
            "result": {
              "status": "failed",
              "duration": 18960999,
              "error_message": "AssertionError\n    + expected - actual\n\n    -401\n    +201\n\n    at CustomWorld.<anonymous> (C:\\Users\\bryan\\Desktop\\proyectos_universidad\\inventario_nestJS\\features\\steps_definitions\\products.steps.ts:41:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 35,
            "name": "envío una petición GET a \"/productos/\"",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:56"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 36,
            "name": "la respuesta debe tener el código de estado 200",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 37,
            "name": "el cuerpo de la respuesta debe ser un array",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "gestión-de-productos",
    "line": 1,
    "keyword": "Feature",
    "name": "Gestión de Productos",
    "tags": [],
    "uri": "features\\products.feature"
  },
  {
    "description": "  Como usuario autorizado (Admin/Empleado),\n  quiero poder ver los productos que tienen un stock bajo\n  para poder tomar acciones de reabastecimiento.",
    "elements": [
      {
        "description": "",
        "id": "alertas-de-stock;obtener-productos-con-stock-por-debajo-del-mínimo",
        "keyword": "Scenario",
        "line": 11,
        "name": "Obtener productos con stock por debajo del mínimo",
        "steps": [
          {
            "keyword": "Before",
            "hidden": true,
            "result": {
              "status": "passed",
              "duration": 427499
            }
          },
          {
            "arguments": [],
            "keyword": "Given ",
            "line": 7,
            "name": "que la aplicación está en funcionamiento",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:6"
            },
            "result": {
              "status": "passed",
              "duration": 529500
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 8,
            "name": "un usuario \"ADMIN\" con nombre \"adminstock\" y contraseña \"password123\" existe",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:10"
            },
            "result": {
              "status": "passed",
              "duration": 23974499
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 9,
            "name": "estoy autenticado como el usuario \"adminstock\" con contraseña \"password123\"",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:37"
            },
            "result": {
              "status": "failed",
              "duration": 11074899,
              "error_message": "AssertionError\n    + expected - actual\n\n    -401\n    +201\n\n    at CustomWorld.<anonymous> (C:\\Users\\bryan\\Desktop\\proyectos_universidad\\inventario_nestJS\\features\\steps_definitions\\products.steps.ts:41:27)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"
            }
          },
          {
            "arguments": [
              {
                "content": "{\n  \"nombre\": \"Laptop Modelo X\",\n  \"descripcion\": \"Laptop con stock normal\",\n  \"categoria\": \"Electrónica\",\n  \"precio\": 1200,\n  \"cantidad\": 15,\n  \"cantidadMinima\": 10,\n  \"proveedorId\": 1\n}",
                "line": 13
              }
            ],
            "keyword": "Given ",
            "line": 12,
            "name": "envío una petición \"POST\" a \"/productos\" con el siguiente cuerpo:",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:65"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 24,
            "name": "la respuesta debe tener el código de estado 201",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          },
          {
            "arguments": [
              {
                "content": "{\n  \"nombre\": \"Mouse Inalámbrico\",\n  \"descripcion\": \"Mouse con stock bajo\",\n  \"categoria\": \"Accesorios\",\n  \"precio\": 25,\n  \"cantidad\": 5,\n  \"cantidadMinima\": 5,\n  \"proveedorId\": 1\n}",
                "line": 26
              }
            ],
            "keyword": "And ",
            "line": 25,
            "name": "envío una petición \"POST\" a \"/productos\" con el siguiente cuerpo:",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:65"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 37,
            "name": "la respuesta debe tener el código de estado 201",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "When ",
            "line": 39,
            "name": "envío una petición \"GET\" a \"/productos/stock/alerts\"",
            "match": {
              "location": "features\\steps_definitions\\products.steps.ts:74"
            },
            "result": {
              "status": "skipped",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "Then ",
            "line": 41,
            "name": "la respuesta debe tener el código de estado 200",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 42,
            "name": "el cuerpo de la respuesta debe ser un array",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 43,
            "name": "el array de la respuesta debe tener 1 elemento(s)",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          },
          {
            "arguments": [],
            "keyword": "And ",
            "line": 44,
            "name": "el primer elemento del array de la respuesta debe tener la propiedad \"nombre\" con el valor \"Mouse Inalámbrico\"",
            "result": {
              "status": "undefined",
              "duration": 0
            }
          }
        ],
        "tags": [],
        "type": "scenario"
      }
    ],
    "id": "alertas-de-stock",
    "line": 1,
    "keyword": "Feature",
    "name": "Alertas de Stock",
    "tags": [],
    "uri": "features\\stock_alerts.feature"
  }
]